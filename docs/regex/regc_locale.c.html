<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>regex/regc_locale.c - pgsql17devel-backend</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

  <h1>regex/regc_locale.c - pgsql17devel-backend</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L356">classNames</a></li>
<li><a href="#L59">cnames</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L55">cname</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L717">allcases</a></li>
<li><a href="#L488">before</a></li>
<li><a href="#L758">casecmp</a></li>
<li><a href="#L671">cclass_column_index</a></li>
<li><a href="#L569">cclasscvec</a></li>
<li><a href="#L743">cmp</a></li>
<li><a href="#L500">eclass</a></li>
<li><a href="#L376">element</a></li>
<li><a href="#L536">lookupcclass</a></li>
<li><a href="#L412">range</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * regc_locale.c --<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; This file contains locale-specific regexp routines.<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; This file is #included by regcomp.c.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Copyright (c) 1998 by Scriptics Corporation.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * This software is copyrighted by the Regents of the University of<br/></li>
<li></span><span class="Comment"> * California, Sun Microsystems, Inc., Scriptics Corporation, ActiveState<br/></li>
<li></span><span class="Comment"> * Corporation and other parties.&nbsp; The following terms apply to all files<br/></li>
<li></span><span class="Comment"> * associated with the software unless explicitly disclaimed in<br/></li>
<li></span><span class="Comment"> * individual files.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * The authors hereby grant permission to use, copy, modify, distribute,<br/></li>
<li></span><span class="Comment"> * and license this software and its documentation for <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> purpose, provided<br/></li>
<li></span><span class="Comment"> * that existing copyright notices are retained in all copies and that this<br/></li>
<li></span><span class="Comment"> * notice is included verbatim in <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> distributions. No written agreement,<br/></li>
<li></span><span class="Comment"> * license, or royalty fee is required for <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> of the authorized uses.<br/></li>
<li></span><span class="Comment"> * Modifications to this software may be copyrighted by their authors<br/></li>
<li></span><span class="Comment"> * and need not follow the licensing terms described here, provided that<br/></li>
<li></span><span class="Comment"> * the new terms are clearly indicated on the first page of each file where<br/></li>
<li></span><span class="Comment"> * they apply.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY<br/></li>
<li></span><span class="Comment"> * FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES<br/></li>
<li></span><span class="Comment"> * ARISING OUT OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY<br/></li>
<li></span><span class="Comment"> * DERIVATIVES THEREOF, EVEN IF THE AUTHORS <a href="regc_lex.c.html#L37" title="regex/regc_lex.c:37">HAVE</a> BEEN ADVISED OF THE<br/></li>
<li></span><span class="Comment"> * POSSIBILITY OF SUCH DAMAGE.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES,<br/></li>
<li></span><span class="Comment"> * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,<br/></li>
<li></span><span class="Comment"> * FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.&nbsp; THIS SOFTWARE<br/></li>
<li></span><span class="Comment"> * IS PROVIDED ON AN &quot;AS IS&quot; BASIS, AND THE AUTHORS AND DISTRIBUTORS <a href="regc_lex.c.html#L37" title="regex/regc_lex.c:37">HAVE</a><br/></li>
<li></span><span class="Comment"> * NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR<br/></li>
<li></span><span class="Comment"> * MODIFICATIONS.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * GOVERNMENT USE: If you are acquiring this software on behalf of the<br/></li>
<li></span><span class="Comment"> * U.S. government, the Government shall have only &quot;Restricted Rights&quot;<br/></li>
<li></span><span class="Comment"> * in the software and related documentation as defined in the Federal<br/></li>
<li></span><span class="Comment"> * Acquisition Regulations (FARs) in Clause 52.227.19 (c) (2).&nbsp; If you<br/></li>
<li></span><span class="Comment"> * are acquiring the software on behalf of the Department of Defense, the<br/></li>
<li></span><span class="Comment"> * software shall be classified as &quot;Commercial Computer Software&quot; and the<br/></li>
<li></span><span class="Comment"> * Government shall have only &quot;Restricted Rights&quot; as defined in Clause<br/></li>
<li></span><span class="Comment"> * 252.227-7013 (c) (1) of DFARs.&nbsp; Notwithstanding the foregoing, the<br/></li>
<li></span><span class="Comment"> * authors grant the U.S. Government and others acting in its behalf<br/></li>
<li></span><span class="Comment"> * permission to use and distribute the software in accordance with the<br/></li>
<li></span><span class="Comment"> * terms specified in this license.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * src/backend/regex/regc_locale.c<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* ASCII character-name table */<br/></li>
<li></span><br/></li>
<li><a id="L55">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">struct</span> <span class="linkable">cname</span><br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">const</span> <span class="Type">char</span> *name;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">const</span> <span class="Type">char</span>&nbsp; &nbsp; code;<br/></li>
<li><a id="L59">&#x200c;</a>}&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">cnames</span>[] =<br/></li>
<li><br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;NUL&quot;</span>, <span class="Special">'\0'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;SOH&quot;</span>, <span class="Special">'\001'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;STX&quot;</span>, <span class="Special">'\002'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ETX&quot;</span>, <span class="Special">'\003'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;EOT&quot;</span>, <span class="Special">'\004'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ENQ&quot;</span>, <span class="Special">'\005'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ACK&quot;</span>, <span class="Special">'\006'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;BEL&quot;</span>, <span class="Special">'\007'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;alert&quot;</span>, <span class="Special">'\007'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;BS&quot;</span>, <span class="Special">'\010'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;backspace&quot;</span>, <span class="Special">'\b'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;HT&quot;</span>, <span class="Special">'\011'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;tab&quot;</span>, <span class="Special">'\t'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;LF&quot;</span>, <span class="Special">'\012'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;<a href="regc_lex.c.html#L1010" title="regex/regc_lex.c:1010">newline</a>&quot;</span>, <span class="Special">'\n'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;VT&quot;</span>, <span class="Special">'\013'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;vertical-tab&quot;</span>, <span class="Special">'\v'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;FF&quot;</span>, <span class="Special">'\014'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;form-feed&quot;</span>, <span class="Special">'\f'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;CR&quot;</span>, <span class="Special">'\015'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;carriage-return&quot;</span>, <span class="Special">'\r'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;SO&quot;</span>, <span class="Special">'\016'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;SI&quot;</span>, <span class="Special">'\017'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DLE&quot;</span>, <span class="Special">'\020'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DC1&quot;</span>, <span class="Special">'\021'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DC2&quot;</span>, <span class="Special">'\022'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DC3&quot;</span>, <span class="Special">'\023'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DC4&quot;</span>, <span class="Special">'\024'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;NAK&quot;</span>, <span class="Special">'\025'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;SYN&quot;</span>, <span class="Special">'\026'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ETB&quot;</span>, <span class="Special">'\027'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;CAN&quot;</span>, <span class="Special">'\030'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;EM&quot;</span>, <span class="Special">'\031'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;SUB&quot;</span>, <span class="Special">'\032'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ESC&quot;</span>, <span class="Special">'\033'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;IS4&quot;</span>, <span class="Special">'\034'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;FS&quot;</span>, <span class="Special">'\034'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;IS3&quot;</span>, <span class="Special">'\035'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;GS&quot;</span>, <span class="Special">'\035'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;IS2&quot;</span>, <span class="Special">'\036'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;RS&quot;</span>, <span class="Special">'\036'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;IS1&quot;</span>, <span class="Special">'\037'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;US&quot;</span>, <span class="Special">'\037'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;space&quot;</span>, <span class="Constant">' '<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;exclamation-mark&quot;</span>, <span class="Constant">'!'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;quotation-mark&quot;</span>, <span class="Constant">'&quot;'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;number-sign&quot;</span>, <span class="Constant">'#'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;dollar-sign&quot;</span>, <span class="Constant">'$'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;percent-sign&quot;</span>, <span class="Constant">'%'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;ampersand&quot;</span>, <span class="Constant">'&amp;'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;apostrophe&quot;</span>, <span class="Special">'\''<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;left-parenthesis&quot;</span>, <span class="Constant">'('<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;right-parenthesis&quot;</span>, <span class="Constant">')'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;asterisk&quot;</span>, <span class="Constant">'*'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;plus-sign&quot;</span>, <span class="Constant">'+'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;comma&quot;</span>, <span class="Constant">','<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;hyphen&quot;</span>, <span class="Constant">'-'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;hyphen-minus&quot;</span>, <span class="Constant">'-'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;period&quot;</span>, <span class="Constant">'.'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;full-stop&quot;</span>, <span class="Constant">'.'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;slash&quot;</span>, <span class="Constant">'/'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;solidus&quot;</span>, <span class="Constant">'/'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;zero&quot;</span>, <span class="Constant">'0'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;one&quot;</span>, <span class="Constant">'1'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;two&quot;</span>, <span class="Constant">'2'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;three&quot;</span>, <span class="Constant">'3'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;four&quot;</span>, <span class="Constant">'4'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;five&quot;</span>, <span class="Constant">'5'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;six&quot;</span>, <span class="Constant">'6'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;seven&quot;</span>, <span class="Constant">'7'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;eight&quot;</span>, <span class="Constant">'8'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;nine&quot;</span>, <span class="Constant">'9'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;colon&quot;</span>, <span class="Constant">':'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;semicolon&quot;</span>, <span class="Constant">';'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;less-than-sign&quot;</span>, <span class="Constant">'&lt;'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;equals-sign&quot;</span>, <span class="Constant">'='<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;greater-than-sign&quot;</span>, <span class="Constant">'&gt;'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;question-mark&quot;</span>, <span class="Constant">'?'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;commercial-at&quot;</span>, <span class="Constant">'@'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;left-square-<a href="regcomp.c.html#L1671" title="regex/regcomp.c:1671">bracket</a>&quot;</span>, <span class="Constant">'['<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;backslash&quot;</span>, <span class="Special">'\\'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;reverse-solidus&quot;</span>, <span class="Special">'\\'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;right-square-<a href="regcomp.c.html#L1671" title="regex/regcomp.c:1671">bracket</a>&quot;</span>, <span class="Constant">']'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;circumflex&quot;</span>, <span class="Constant">'^'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;circumflex-accent&quot;</span>, <span class="Constant">'^'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;underscore&quot;</span>, <span class="Constant">'<a href="../utils/error/elog.c.html#L89" title="utils/error/elog.c:89">_</a>'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;low-line&quot;</span>, <span class="Constant">'<a href="../utils/error/elog.c.html#L89" title="utils/error/elog.c:89">_</a>'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;grave-accent&quot;</span>, <span class="Constant">'`'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;left-brace&quot;</span>, <span class="Constant">'{'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;left-curly-<a href="regcomp.c.html#L1671" title="regex/regcomp.c:1671">bracket</a>&quot;</span>, <span class="Constant">'{'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;vertical-line&quot;</span>, <span class="Constant">'|'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;right-brace&quot;</span>, <span class="Constant">'}'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;right-curly-<a href="regcomp.c.html#L1671" title="regex/regcomp.c:1671">bracket</a>&quot;</span>, <span class="Constant">'}'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;tilde&quot;</span>, <span class="Constant">'~'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;DEL&quot;</span>, <span class="Special">'\177'<br/></li>
<li></span>&nbsp; &nbsp; },<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">NULL</span>, <span class="Constant">0<br/></li>
<li></span>&nbsp; &nbsp; }<br/></li>
<li>};<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * The following array defines the valid character class names.<br/></li>
<li></span><span class="Comment"> * The entries must match enum char_classes in regguts.h.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L356">&#x200c;</a></span><span class="Type">static</span> <span class="Type">const</span> <span class="Type">char</span> *<span class="Type">const</span> <span class="linkable">classNames</span>[NUM_CCLASSES + <span class="Constant">1</span>] = {<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">&quot;alnum&quot;</span>, <span class="Constant">&quot;alpha&quot;</span>, <span class="Constant">&quot;<a href="../utils/adt/oracle_compat.c.html#L925" title="utils/adt/oracle_compat.c:925">ascii</a>&quot;</span>, <span class="Constant">&quot;blank&quot;</span>, <span class="Constant">&quot;cntrl&quot;</span>, <span class="Constant">&quot;digit&quot;</span>, <span class="Constant">&quot;graph&quot;</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">&quot;<a href="../utils/adt/oracle_compat.c.html#L49" title="utils/adt/oracle_compat.c:49">lower</a>&quot;</span>, <span class="Constant">&quot;<a href="../nodes/print.c.html#L36" title="nodes/print.c:36">print</a>&quot;</span>, <span class="Constant">&quot;punct&quot;</span>, <span class="Constant">&quot;space&quot;</span>, <span class="Constant">&quot;<a href="../utils/adt/oracle_compat.c.html#L80" title="utils/adt/oracle_compat.c:80">upper</a>&quot;</span>, <span class="Constant">&quot;xdigit&quot;</span>, <span class="Constant">&quot;<a href="regcomp.c.html#L1474" title="regex/regcomp.c:1474">word</a>&quot;</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">NULL<br/></li>
<li></span>};<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * We do not use the hard-wired Unicode classification tables that Tcl does.<br/></li>
<li></span><span class="Comment"> * This is because (a) we need to deal with other encodings besides Unicode,<br/></li>
<li></span><span class="Comment"> * and (b) we want to track the behavior of the libc locale routines as<br/></li>
<li></span><span class="Comment"> * closely as possible.&nbsp; For example, it wouldn't be unreasonable for a<br/></li>
<li></span><span class="Comment"> * locale to not consider every Unicode letter as a letter.&nbsp; So we build<br/></li>
<li></span><span class="Comment"> * character classification cvecs by asking libc, even for Unicode.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L376" title="regex/regc_locale.c:376">element</a> - map collating-<a href="#L376" title="regex/regc_locale.c:376">element</a> name to <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a><br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a><br/></li>
<li><a id="L376">&#x200c;</a><span class="linkable">element</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* context */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *startp,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* points to start of name */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *endp)&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* points just past end of name */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">const</span> <span class="Type">struct</span> <a href="#L55" title="regex/regc_locale.c:55">cname</a> *cn;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">size_t</span>&nbsp; &nbsp; &nbsp; &nbsp; len;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* generic:&nbsp; one-<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> names stand for themselves */<br/></li>
<li></span>&nbsp; &nbsp; assert(startp &lt; endp);<br/></li>
<li>&nbsp; &nbsp; len = endp - startp;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (len == <span class="Constant">1</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> *startp;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="regcomp.c.html#L324" title="regex/regcomp.c:324">NOTE</a>(REG_ULOCALE);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* search table */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">for</span> (cn = <a href="#L59" title="regex/regc_locale.c:59">cnames</a>; cn-&gt;name != <span class="Constant">NULL</span>; cn++)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (strlen(cn-&gt;name) == len &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="../utils/mb/wstrncmp.c.html#L55" title="utils/mb/wstrncmp.c:55">pg_char_and_wchar_strncmp</a>(cn-&gt;name, startp, len) == <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* <a href="regcomp.c.html#L324" title="regex/regcomp.c:324">NOTE</a> BREAK OUT */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cn-&gt;name != <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> CHR(cn-&gt;code);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* couldn't <a href="regexec.c.html#L419" title="regex/regexec.c:419">find</a> it */<br/></li>
<li></span>&nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ECOLLATE);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L412" title="regex/regc_locale.c:412">range</a> - supply cvec for a <a href="#L412" title="regex/regc_locale.c:412">range</a>, including legality check<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">struct</span> cvec *<br/></li>
<li><a id="L412">&#x200c;</a><span class="linkable">range</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* context */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> a,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* <a href="#L412" title="regex/regc_locale.c:412">range</a> start */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> b,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* <a href="#L412" title="regex/regc_locale.c:412">range</a> end, might <a href="../nodes/equalfuncs.c.html#L223" title="nodes/equalfuncs.c:223">equal</a> a */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Type">int</span> cases)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* case-independent? */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nchrs;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> cvec *cv;<br/></li>
<li>&nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cc;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (a != b &amp;&amp; !<a href="#L488" title="regex/regc_locale.c:488">before</a>(a, b))<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ERANGE);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (!cases)<br/></li>
<li>&nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* easy version */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">0</span>, <span class="Constant">1</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regcomp.c.html#L321" title="regex/regcomp.c:321">NOERRN</a>();<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, a, b);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * When case-independent, it's hard to decide when cvec ranges are usable,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * so for <a href="../utils/adt/timestamp.c.html#L1618" title="utils/adt/timestamp.c:1618">now</a> at least, we won't try.&nbsp; We use a <a href="#L412" title="regex/regc_locale.c:412">range</a> for the originally<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * specified chrs and then add on <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> case-equivalents that are outside<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * that <a href="#L412" title="regex/regc_locale.c:412">range</a> as individual chrs.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; *<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * To ensure sane behavior if someone specifies a very large <a href="#L412" title="regex/regc_locale.c:412">range</a>, limit<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * the allocation size to 100000 chrs (arbitrary) and check for overrun<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * inside the loop below.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; nchrs = b - a + <span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (nchrs &lt;= <span class="Constant">0</span> || nchrs &gt; <span class="Constant">100000</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; nchrs = <span class="Constant">100000</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, nchrs, <span class="Constant">1</span>);<br/></li>
<li>&nbsp; &nbsp; <a href="regcomp.c.html#L321" title="regex/regcomp.c:321">NOERRN</a>();<br/></li>
<li>&nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, a, b);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">for</span> (c = a; c &lt;= b; c++)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; cc = <a href="regc_pg_locale.c.html#L651" title="regex/regc_pg_locale.c:651">pg_wc_tolower</a>(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cc != c &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L488" title="regex/regc_locale.c:488">before</a>(cc, a) || <a href="#L488" title="regex/regc_locale.c:488">before</a>(b, cc)))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cv-&gt;nchrs &gt;= cv-&gt;chrspace)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ETOOBIG);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, cc);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; cc = <a href="regc_pg_locale.c.html#L609" title="regex/regc_pg_locale.c:609">pg_wc_toupper</a>(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cc != c &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L488" title="regex/regc_locale.c:488">before</a>(cc, a) || <a href="#L488" title="regex/regc_locale.c:488">before</a>(b, cc)))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cv-&gt;nchrs &gt;= cv-&gt;chrspace)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ETOOBIG);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, cc);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; INTERRUPT(v-&gt;re);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L488" title="regex/regc_locale.c:488">before</a> - is <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> x <a href="#L488" title="regex/regc_locale.c:488">before</a> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> y, for purposes of <a href="#L412" title="regex/regc_locale.c:412">range</a> legality?<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* predicate */<br/></li>
<li><a id="L488">&#x200c;</a></span><span class="linkable">before</span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> x, <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> y)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (x &lt; y)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L500" title="regex/regc_locale.c:500">eclass</a> - supply cvec for an equivalence class<br/></li>
<li></span><span class="Comment"> * Must include case counterparts on request.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">struct</span> cvec *<br/></li>
<li><a id="L500">&#x200c;</a><span class="linkable">eclass</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* context */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> c,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Collating <a href="#L376" title="regex/regc_locale.c:376">element</a> representing the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * equivalence class. */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">int</span> cases)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* all cases? */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> cvec *cv;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* crude fake equivalence class for testing */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> ((v-&gt;cflags &amp; REG_FAKE) &amp;&amp; c == <span class="Constant">'x'</span>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">4</span>, <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, CHR(<span class="Constant">'x'</span>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, CHR(<span class="Constant">'y'</span>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cases)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, CHR(<span class="Constant">'X'</span>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, CHR(<span class="Constant">'Y'</span>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* otherwise, <a href="../optimizer/util/predtest.c.html#L1670" title="optimizer/util/predtest.c:1670">none</a> */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (cases)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <a href="#L717" title="regex/regc_locale.c:717">allcases</a>(v, c);<br/></li>
<li>&nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">1</span>, <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; assert(cv != <span class="Constant">NULL</span>);<br/></li>
<li>&nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, c);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L536" title="regex/regc_locale.c:536">lookupcclass</a> - lookup a character class identified by name<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * On failure, sets an error code in *v; the result is then garbage.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">enum</span> char_classes<br/></li>
<li><a id="L536">&#x200c;</a><span class="linkable">lookupcclass</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; <span class="Comment">/* context (for returning errors) */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *startp, <span class="Comment">/* where the name starts */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *endp)&nbsp; &nbsp; <span class="Comment">/* just past the end of the name */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">size_t</span>&nbsp; &nbsp; &nbsp; &nbsp; len;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">const</span> <span class="Type">char</span> *<span class="Type">const</span> *namePtr;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Map the name to the corresponding enumerated value.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; len = endp - startp;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">for</span> (namePtr = <a href="#L356" title="regex/regc_locale.c:356">classNames</a>, i = <span class="Constant">0</span>; *namePtr != <span class="Constant">NULL</span>; namePtr++, i++)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (strlen(*namePtr) == len &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="../utils/mb/wstrncmp.c.html#L55" title="utils/mb/wstrncmp.c:55">pg_char_and_wchar_strncmp</a>(*namePtr, startp, len) == <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (<span class="Type">enum</span> char_classes) i;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ECTYPE);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> (<span class="Type">enum</span> char_classes) <span class="Constant">0</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L569" title="regex/regc_locale.c:569">cclasscvec</a> - supply cvec for a character class<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Must include case counterparts if &quot;cases&quot; is true.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * The returned cvec might be either a transient cvec gotten from <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(),<br/></li>
<li></span><span class="Comment"> * or a permanently cached one from <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>().&nbsp; This is okay<br/></li>
<li></span><span class="Comment"> * because callers are not supposed to explicitly free the result either way.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">struct</span> cvec *<br/></li>
<li><a id="L569">&#x200c;</a><span class="linkable">cclasscvec</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* context */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">enum</span> char_classes cclasscode,&nbsp; &nbsp; <span class="Comment">/* class to build a cvec for */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">int</span> cases)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* case-independent? */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> cvec *cv = <span class="Constant">NULL</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Remap <a href="../utils/adt/oracle_compat.c.html#L49" title="utils/adt/oracle_compat.c:49">lower</a> and <a href="../utils/adt/oracle_compat.c.html#L80" title="utils/adt/oracle_compat.c:80">upper</a> to alpha if the match is case insensitive.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cases &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; (cclasscode == CC_LOWER ||<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; cclasscode == CC_UPPER))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; cclasscode = CC_ALPHA;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Now compute the character class contents.&nbsp; For classes that are based<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * on the behavior of a &lt;wctype.h&gt; or &lt;ctype.h&gt; function, we use<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a> so that we can cache the results.&nbsp; Other classes<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * have definitions that are hard-wired here, and for those we just<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * construct a transient cvec on the fly.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; *<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * NB: keep this code in sync with <a href="#L671" title="regex/regc_locale.c:671">cclass_column_index</a>(), below.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (cclasscode)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_PRINT:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L507" title="regex/regc_pg_locale.c:507">pg_wc_isprint</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_ALNUM:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L362" title="regex/regc_pg_locale.c:362">pg_wc_isalnum</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_ALPHA:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L328" title="regex/regc_pg_locale.c:328">pg_wc_isalpha</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_WORD:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L396" title="regex/regc_pg_locale.c:396">pg_wc_isword</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_ASCII:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* hard-wired meaning */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">0</span>, <span class="Constant">1</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cv)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">0</span>, <span class="Constant">0x7f</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_BLANK:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* hard-wired meaning */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">2</span>, <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, <span class="Special">'\t'</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, <span class="Constant">' '</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_CNTRL:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* hard-wired meaning */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">0</span>, <span class="Constant">2</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">0x0</span>, <span class="Constant">0x1f</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">0x7f</span>, <span class="Constant">0x9f</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_DIGIT:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L294" title="regex/regc_pg_locale.c:294">pg_wc_isdigit</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_PUNCT:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L541" title="regex/regc_pg_locale.c:541">pg_wc_ispunct</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_XDIGIT:<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * It's not clear how to define this in non-western locales, and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * even less clear that there's <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> particular use in trying. So<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * just hard-wire the meaning.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">0</span>, <span class="Constant">3</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (cv)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">'0'</span>, <span class="Constant">'9'</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">'a'</span>, <span class="Constant">'f'</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L90" title="regex/regc_cvec.c:90">addrange</a>(cv, <span class="Constant">'A'</span>, <span class="Constant">'F'</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_SPACE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L575" title="regex/regc_pg_locale.c:575">pg_wc_isspace</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_LOWER:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L439" title="regex/regc_pg_locale.c:439">pg_wc_islower</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_UPPER:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L405" title="regex/regc_pg_locale.c:405">pg_wc_isupper</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> CC_GRAPH:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv = <a href="regc_pg_locale.c.html#L766" title="regex/regc_pg_locale.c:766">pg_ctype_get_cache</a>(<a href="regc_pg_locale.c.html#L473" title="regex/regc_pg_locale.c:473">pg_wc_isgraph</a>, cclasscode);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* If cv is NULL <a href="../utils/adt/timestamp.c.html#L1618" title="utils/adt/timestamp.c:1618">now</a>, the reason must be &quot;out of memory&quot; */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (cv == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regexec.c.html#L129" title="regex/regexec.c:129">ERR</a>(REG_ESPACE);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L671" title="regex/regc_locale.c:671">cclass_column_index</a> - get appropriate high colormap column index for <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a><br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L671">&#x200c;</a></span><span class="linkable">cclass_column_index</span>(<span class="Type">struct</span> colormap *cm, <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; colnum = <span class="Constant">0</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Shouldn't go through all these pushups for simple chrs */<br/></li>
<li></span>&nbsp; &nbsp; assert(c &gt; MAX_SIMPLE_CHR);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Note: we should not see requests to consider cclasses that are not<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * treated as locale-specific by <a href="#L569" title="regex/regc_locale.c:569">cclasscvec</a>(), above.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_PRINT] &amp;&amp; <a href="regc_pg_locale.c.html#L507" title="regex/regc_pg_locale.c:507">pg_wc_isprint</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_PRINT];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_ALNUM] &amp;&amp; <a href="regc_pg_locale.c.html#L362" title="regex/regc_pg_locale.c:362">pg_wc_isalnum</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_ALNUM];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_ALPHA] &amp;&amp; <a href="regc_pg_locale.c.html#L328" title="regex/regc_pg_locale.c:328">pg_wc_isalpha</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_ALPHA];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_WORD] &amp;&amp; <a href="regc_pg_locale.c.html#L396" title="regex/regc_pg_locale.c:396">pg_wc_isword</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_WORD];<br/></li>
<li>&nbsp; &nbsp; assert(cm-&gt;classbits[CC_ASCII] == <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; assert(cm-&gt;classbits[CC_BLANK] == <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; assert(cm-&gt;classbits[CC_CNTRL] == <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_DIGIT] &amp;&amp; <a href="regc_pg_locale.c.html#L294" title="regex/regc_pg_locale.c:294">pg_wc_isdigit</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_DIGIT];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_PUNCT] &amp;&amp; <a href="regc_pg_locale.c.html#L541" title="regex/regc_pg_locale.c:541">pg_wc_ispunct</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_PUNCT];<br/></li>
<li>&nbsp; &nbsp; assert(cm-&gt;classbits[CC_XDIGIT] == <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_SPACE] &amp;&amp; <a href="regc_pg_locale.c.html#L575" title="regex/regc_pg_locale.c:575">pg_wc_isspace</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_SPACE];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_LOWER] &amp;&amp; <a href="regc_pg_locale.c.html#L439" title="regex/regc_pg_locale.c:439">pg_wc_islower</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_LOWER];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_UPPER] &amp;&amp; <a href="regc_pg_locale.c.html#L405" title="regex/regc_pg_locale.c:405">pg_wc_isupper</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_UPPER];<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (cm-&gt;classbits[CC_GRAPH] &amp;&amp; <a href="regc_pg_locale.c.html#L473" title="regex/regc_pg_locale.c:473">pg_wc_isgraph</a>(c))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; colnum |= cm-&gt;classbits[CC_GRAPH];<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> colnum;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L717" title="regex/regc_locale.c:717">allcases</a> - supply cvec for all case counterparts of a <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> (including itself)<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * This is a shortcut, preferably an efficient one, for simple characters;<br/></li>
<li></span><span class="Comment"> * messy cases are done via <a href="#L412" title="regex/regc_locale.c:412">range</a>().<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">struct</span> cvec *<br/></li>
<li><a id="L717">&#x200c;</a><span class="linkable">allcases</span>(<span class="Type">struct</span> <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a> *v,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* context */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> c)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* character to get case equivs of */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> cvec *cv;<br/></li>
<li>&nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lc,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uc;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; lc = <a href="regc_pg_locale.c.html#L651" title="regex/regc_pg_locale.c:651">pg_wc_tolower</a>(c);<br/></li>
<li>&nbsp; &nbsp; uc = <a href="regc_pg_locale.c.html#L609" title="regex/regc_pg_locale.c:609">pg_wc_toupper</a>(c);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; cv = <a href="regc_cvec.c.html#L112" title="regex/regc_cvec.c:112">getcvec</a>(v, <span class="Constant">2</span>, <span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, lc);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (lc != uc)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="regc_cvec.c.html#L79" title="regex/regc_cvec.c:79">addchr</a>(cv, uc);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> cv;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L743" title="regex/regc_locale.c:743">cmp</a> - <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>-substring <a href="../optimizer/geqo/geqo_pool.c.html#L145" title="optimizer/geqo/geqo_pool.c:145">compare</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Backrefs need this.&nbsp; It should preferably be efficient.<br/></li>
<li></span><span class="Comment"> * Note that it does not need to report anything except <a href="../nodes/equalfuncs.c.html#L223" title="nodes/equalfuncs.c:223">equal</a>/unequal.<br/></li>
<li></span><span class="Comment"> * Note also that the length is exact, and the comparison should not<br/></li>
<li></span><span class="Comment"> * stop at embedded NULs!<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* 0 for <a href="../nodes/equalfuncs.c.html#L223" title="nodes/equalfuncs.c:223">equal</a>, nonzero for unequal */<br/></li>
<li><a id="L743">&#x200c;</a></span><span class="linkable">cmp</span>(<span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *x, <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *y, <span class="Comment">/* strings to <a href="../optimizer/geqo/geqo_pool.c.html#L145" title="optimizer/geqo/geqo_pool.c:145">compare</a> */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Type">size_t</span> len)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* exact length of comparison */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> memcmp(VS(x), VS(y), len * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L758" title="regex/regc_locale.c:758">casecmp</a> - case-independent <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>-substring <a href="../optimizer/geqo/geqo_pool.c.html#L145" title="optimizer/geqo/geqo_pool.c:145">compare</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * REG_ICASE backrefs need this.&nbsp; It should preferably be efficient.<br/></li>
<li></span><span class="Comment"> * Note that it does not need to report anything except <a href="../nodes/equalfuncs.c.html#L223" title="nodes/equalfuncs.c:223">equal</a>/unequal.<br/></li>
<li></span><span class="Comment"> * Note also that the length is exact, and the comparison should not<br/></li>
<li></span><span class="Comment"> * stop at embedded NULs!<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* 0 for <a href="../nodes/equalfuncs.c.html#L223" title="nodes/equalfuncs.c:223">equal</a>, nonzero for unequal */<br/></li>
<li><a id="L758">&#x200c;</a></span><span class="linkable">casecmp</span>(<span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *x, <span class="Type">const</span> <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *y, <span class="Comment">/* strings to <a href="../optimizer/geqo/geqo_pool.c.html#L145" title="optimizer/geqo/geqo_pool.c:145">compare</a> */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Type">size_t</span> len)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* exact length of comparison */<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">for</span> (; len &gt; <span class="Constant">0</span>; len--, x++, y++)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> ((*x != *y) &amp;&amp; (<a href="regc_pg_locale.c.html#L651" title="regex/regc_pg_locale.c:651">pg_wc_tolower</a>(*x) != <a href="regc_pg_locale.c.html#L651" title="regex/regc_pg_locale.c:651">pg_wc_tolower</a>(*y)))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;<br/></li>
<li>}<br/></li>
</ol></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

 </body>
</html>
