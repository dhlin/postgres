<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>regex/regc_pg_locale.c - pgsql17devel-backend</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

  <h1>regex/regc_pg_locale.c - pgsql17devel-backend</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L94">pg_char_properties</a></li>
<li><a href="#L716">pg_ctype_cache_list</a></li>
<li><a href="#L79">pg_regex_collation</a></li>
<li><a href="#L78">pg_regex_locale</a></li>
<li><a href="#L77">pg_regex_strategy</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L75">PG_Locale_Strategy</a></li>
<li><a href="#L708">pg_ctype_cache</a></li>
<li><a href="#L714">pg_ctype_cache</a></li>
<li><a href="#L706">pg_wc_probefunc</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L766">pg_ctype_get_cache</a></li>
<li><a href="#L234">pg_set_regex_collation</a></li>
<li><a href="#L362">pg_wc_isalnum</a></li>
<li><a href="#L328">pg_wc_isalpha</a></li>
<li><a href="#L294">pg_wc_isdigit</a></li>
<li><a href="#L473">pg_wc_isgraph</a></li>
<li><a href="#L439">pg_wc_islower</a></li>
<li><a href="#L507">pg_wc_isprint</a></li>
<li><a href="#L541">pg_wc_ispunct</a></li>
<li><a href="#L575">pg_wc_isspace</a></li>
<li><a href="#L405">pg_wc_isupper</a></li>
<li><a href="#L396">pg_wc_isword</a></li>
<li><a href="#L651">pg_wc_tolower</a></li>
<li><a href="#L609">pg_wc_toupper</a></li>
<li><a href="#L722">store_match</a></li>
</ul>
 <h2>Macros defined</h2>
 <ul class="toc">
<li><a href="#L86">PG_ISALNUM</a></li>
<li><a href="#L85">PG_ISALPHA</a></li>
<li><a href="#L84">PG_ISDIGIT</a></li>
<li><a href="#L89">PG_ISGRAPH</a></li>
<li><a href="#L88">PG_ISLOWER</a></li>
<li><a href="#L90">PG_ISPRINT</a></li>
<li><a href="#L91">PG_ISPUNCT</a></li>
<li><a href="#L92">PG_ISSPACE</a></li>
<li><a href="#L87">PG_ISUPPER</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/*-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * regc_pg_locale.c<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; ctype <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> adapted to work on pg_wchar (a/k/a <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>),<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; and <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> to cache the results of wholesale ctype probing.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * This file is #included by regcomp.c; it's not meant to compile standalone.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1996-2024, PostgreSQL Global Development Group<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1994, Regents of the University of California<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * IDENTIFICATION<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; src/backend/regex/regc_pg_locale.c<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;catalog/pg_collation.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;common/unicode_case.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;common/unicode_category.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;utils/pg_locale.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * To provide as much functionality as possible on a variety of platforms,<br/></li>
<li></span><span class="Comment"> * without going so far as to implement everything from scratch, we use<br/></li>
<li></span><span class="Comment"> * several implementation strategies depending on the situation:<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * 1. In C/POSIX collations, we use hard-wired code.&nbsp; We can't depend on<br/></li>
<li></span><span class="Comment"> * the &lt;ctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> since those will obey LC_CTYPE.&nbsp; Note that these<br/></li>
<li></span><span class="Comment"> * collations don't give a fig about multibyte characters.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * 2. In the &quot;default&quot; collation (which is supposed to obey LC_CTYPE):<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * 2a. When working in UTF8 encoding, we use the &lt;wctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>.<br/></li>
<li></span><span class="Comment"> * This assumes that every platform uses Unicode codepoints directly<br/></li>
<li></span><span class="Comment"> * as the wchar_t representation of Unicode.&nbsp; On some platforms<br/></li>
<li></span><span class="Comment"> * wchar_t is only 16 bits wide, so we have to punt for codepoints &gt; 0xFFFF.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * 2b. In all other encodings, we use the &lt;ctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for pg_wchar<br/></li>
<li></span><span class="Comment"> * <a href="../bootstrap/bootstrap.c.html#L152" title="bootstrap/bootstrap.c:152">values</a> up to 255, and punt for <a href="../bootstrap/bootstrap.c.html#L152" title="bootstrap/bootstrap.c:152">values</a> above that.&nbsp; This is 100% correct<br/></li>
<li></span><span class="Comment"> * only in single-byte encodings such as LATINn.&nbsp; However, non-Unicode<br/></li>
<li></span><span class="Comment"> * multibyte encodings are mostly Far Eastern character sets for which the<br/></li>
<li></span><span class="Comment"> * properties being tested here aren't very relevant for higher code <a href="../bootstrap/bootstrap.c.html#L152" title="bootstrap/bootstrap.c:152">values</a><br/></li>
<li></span><span class="Comment"> * anyway.&nbsp; The difficulty with using the &lt;wctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> with<br/></li>
<li></span><span class="Comment"> * non-Unicode multibyte encodings is that we can have no certainty that<br/></li>
<li></span><span class="Comment"> * the platform's wchar_t representation matches what we do in pg_wchar<br/></li>
<li></span><span class="Comment"> * conversions.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * 3. Here, we use the locale_t-extended forms of the &lt;wctype.h&gt; and &lt;ctype.h&gt;<br/></li>
<li></span><span class="Comment"> * <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>, under exactly the same cases as #2.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * There is one notable difference between cases 2 and 3: in the &quot;default&quot;<br/></li>
<li></span><span class="Comment"> * collation we force ASCII letters to follow ASCII upcase/downcase rules,<br/></li>
<li></span><span class="Comment"> * while in a non-default collation we just let the library <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> do what<br/></li>
<li></span><span class="Comment"> * they will.&nbsp; The case where this matters is treatment of I/i in Turkish,<br/></li>
<li></span><span class="Comment"> * and the behavior is meant to match the <a href="../utils/adt/oracle_compat.c.html#L80" title="utils/adt/oracle_compat.c:80">upper</a>()/<a href="../utils/adt/oracle_compat.c.html#L49" title="utils/adt/oracle_compat.c:49">lower</a>() SQL <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We store the active collation setting in static variables.&nbsp; In principle<br/></li>
<li></span><span class="Comment"> * it could be passed down to here via the regex library's &quot;struct <a href="regexec.c.html#L106" title="regex/regexec.c:106">vars</a>&quot; data<br/></li>
<li></span><span class="Comment"> * structure; but that would require somewhat invasive changes in the regex<br/></li>
<li></span><span class="Comment"> * library, and right <a href="../utils/adt/timestamp.c.html#L1618" title="utils/adt/timestamp.c:1618">now</a> there's no real benefit to be gained from that.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * NB: the coding here assumes pg_wchar is an unsigned type.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="Type">typedef</span> <span class="Type">enum<br/></li>
<li></span>{<br/></li>
<li>&nbsp; &nbsp; PG_REGEX_LOCALE_C,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* C locale (encoding independent) */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_BUILTIN,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* built-in Unicode semantics */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_LOCALE_WIDE,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Use &lt;wctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_LOCALE_1BYTE,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Use &lt;ctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_LOCALE_WIDE_L,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Use locale_t &lt;wctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_LOCALE_1BYTE_L,&nbsp; &nbsp; <span class="Comment">/* Use locale_t &lt;ctype.h&gt; <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> */<br/></li>
<li></span>&nbsp; &nbsp; PG_REGEX_LOCALE_ICU,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Use ICU uchar.h <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> */<br/></li>
<li><a id="L75">&#x200c;</a></span>} <span class="linkable">PG_Locale_Strategy</span>;<br/></li>
<li><br/></li>
<li><a id="L77">&#x200c;</a><span class="Type">static</span> <a href="#L75" title="regex/regc_pg_locale.c:75">PG_Locale_Strategy</a> <span class="linkable">pg_regex_strategy</span>;<br/></li>
<li><a id="L78">&#x200c;</a><span class="Type">static</span> pg_locale_t <span class="linkable">pg_regex_locale</span>;<br/></li>
<li><a id="L79">&#x200c;</a><span class="Type">static</span> Oid&nbsp; &nbsp; <span class="linkable">pg_regex_collation</span>;<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Hard-wired character properties for C locale<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L84">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISDIGIT</span>&nbsp; &nbsp; </span><span class="Constant">0x01<br/></li>
<li><a id="L85">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISALPHA</span>&nbsp; &nbsp; </span><span class="Constant">0x02<br/></li>
<li><a id="L86">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISALNUM</span>&nbsp; &nbsp; (<a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a>)<br/></li>
<li><a id="L87">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISUPPER</span>&nbsp; &nbsp; </span><span class="Constant">0x04<br/></li>
<li><a id="L88">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISLOWER</span>&nbsp; &nbsp; </span><span class="Constant">0x08<br/></li>
<li><a id="L89">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISGRAPH</span>&nbsp; &nbsp; </span><span class="Constant">0x10<br/></li>
<li><a id="L90">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISPRINT</span>&nbsp; &nbsp; </span><span class="Constant">0x20<br/></li>
<li><a id="L91">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISPUNCT</span>&nbsp; &nbsp; </span><span class="Constant">0x40<br/></li>
<li><a id="L92">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PG_ISSPACE</span>&nbsp; &nbsp; </span><span class="Constant">0x80<br/></li>
<li></span><br/></li>
<li><a id="L94">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">unsigned</span> <span class="Type">char</span> <span class="linkable">pg_char_properties</span>[<span class="Constant">128</span>] = {<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* NUL */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^A */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^B */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^C */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^D */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^E */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^F */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^G */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^H */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^I */</span> <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^J */</span> <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^K */</span> <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^L */</span> <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^M */</span> <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^N */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^O */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^P */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^Q */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^R */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^S */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^T */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^U */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^V */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^W */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^X */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^Y */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^Z */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^[ */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^\ */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^] */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^^ */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^<a href="../utils/error/elog.c.html#L89" title="utils/error/elog.c:89">_</a> */</span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* */</span> <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* !&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* &quot;&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* #&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* $&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* %&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* &amp;&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* '&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* (&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* )&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* *&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* +&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ,&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* -&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* .&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* /&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 0&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 1&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 2&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 3&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 4&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 5&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 6&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 7&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 8&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* 9&nbsp; */</span> <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* :&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ;&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* &lt;&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* =&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* &gt;&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ?&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* @&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* A&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* B&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* C&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* D&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* E&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* F&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* G&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* H&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* I&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* J&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* K&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* L&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* M&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* N&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* O&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* P&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* Q&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* R&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* S&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* T&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* U&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* V&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* W&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* X&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* Y&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* Z&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* [&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* \&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ]&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ^&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* <a href="../utils/error/elog.c.html#L89" title="utils/error/elog.c:89">_</a>&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* `&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* a&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* b&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* c&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* d&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* e&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* f&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* g&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* h&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* i&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* j&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* k&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* l&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* m&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* n&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* o&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* p&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* q&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* r&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* s&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* t&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* u&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* v&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* w&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* x&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* y&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* z&nbsp; */</span> <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a> | <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a> | <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* {&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* |&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* }&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* ~&nbsp; */</span> <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a> | <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a> | <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Comment">/* DEL */</span> <span class="Constant">0<br/></li>
<li></span>};<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L234" title="regex/regc_pg_locale.c:234">pg_set_regex_collation</a>: set collation for these <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> to obey<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * This is called when beginning compilation or execution of a regexp.<br/></li>
<li></span><span class="Comment"> * Since there's no need for reentrancy of regexp operations, it's okay<br/></li>
<li></span><span class="Comment"> * to store the results in static variables.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">void<br/></li>
<li><a id="L234">&#x200c;</a></span><span class="linkable">pg_set_regex_collation</span>(Oid collation)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (!OidIsValid(collation))<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * This typically means that the parser could not resolve a conflict<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * of implicit collations, so report it that way.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ereport(ERROR,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../utils/error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_INDETERMINATE_COLLATION),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../utils/error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(<span class="Constant">&quot;could not determine which collation to use for regular expression&quot;</span>),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../utils/error/elog.c.html#L1319" title="utils/error/elog.c:1319">errhint</a>(<span class="Constant">&quot;Use the COLLATE clause to set the collation explicitly.&quot;</span>)));<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (<a href="../utils/adt/pg_locale.c.html#L1384" title="utils/adt/pg_locale.c:1384">lc_ctype_is_c</a>(collation))<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* C/POSIX collations use this path regardless of database encoding */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_C;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a> = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L79" title="regex/regc_pg_locale.c:79">pg_regex_collation</a> = C_COLLATION_OID;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a> = <a href="../utils/adt/pg_locale.c.html#L1551" title="utils/adt/pg_locale.c:1551">pg_newlocale_from_collation</a>(collation);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (!<a href="../utils/adt/pg_locale.c.html#L1531" title="utils/adt/pg_locale.c:1531">pg_locale_deterministic</a>(<a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ereport(ERROR,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../utils/error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../utils/error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(<span class="Constant">&quot;nondeterministic collations are not supported for regular expressions&quot;</span>)));<br/></li>
<li><br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a> &amp;&amp; <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;<a href="../jit/jit.c.html#L43" title="jit/jit.c:43">provider</a> == COLLPROVIDER_ICU)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_ICU;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<a href="../utils/mb/mbutils.c.html#L1261" title="utils/mb/mbutils.c:1261">GetDatabaseEncoding</a>() == PG_UTF8)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;<a href="../jit/jit.c.html#L43" title="jit/jit.c:43">provider</a> == COLLPROVIDER_BUILTIN)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_BUILTIN;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_WIDE_L;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_WIDE;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_1BYTE_L;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a> = PG_REGEX_LOCALE_1BYTE;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L79" title="regex/regc_pg_locale.c:79">pg_regex_collation</a> = collation;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L294">&#x200c;</a></span><span class="linkable">pg_wc_isdigit</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L84" title="regex/regc_pg_locale.c:84">PG_ISDIGIT</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isdigit(c, <span class="Constant">true</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswdigit((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isdigit((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswdigit_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isdigit_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isdigit(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L328">&#x200c;</a></span><span class="linkable">pg_wc_isalpha</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L85" title="regex/regc_pg_locale.c:85">PG_ISALPHA</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isalpha(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswalpha((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isalpha((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswalpha_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isalpha_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isalpha(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L362">&#x200c;</a></span><span class="linkable">pg_wc_isalnum</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L86" title="regex/regc_pg_locale.c:86">PG_ISALNUM</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isalnum(c, <span class="Constant">true</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswalnum((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isalnum((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswalnum_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isalnum_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isalnum(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L396">&#x200c;</a></span><span class="linkable">pg_wc_isword</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* We define <a href="regcomp.c.html#L1474" title="regex/regcomp.c:1474">word</a> characters as alnum class plus underscore */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (c == CHR(<span class="Constant">'<a href="../utils/error/elog.c.html#L89" title="utils/error/elog.c:89">_</a>'</span>))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="#L362" title="regex/regc_pg_locale.c:362">pg_wc_isalnum</a>(c);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L405">&#x200c;</a></span><span class="linkable">pg_wc_isupper</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L87" title="regex/regc_pg_locale.c:87">PG_ISUPPER</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isupper(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswupper((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isupper((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswupper_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isupper_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isupper(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L439">&#x200c;</a></span><span class="linkable">pg_wc_islower</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L88" title="regex/regc_pg_locale.c:88">PG_ISLOWER</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_islower(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswlower((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; islower((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswlower_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; islower_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_islower(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L473">&#x200c;</a></span><span class="linkable">pg_wc_isgraph</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L89" title="regex/regc_pg_locale.c:89">PG_ISGRAPH</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isgraph(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswgraph((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isgraph((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswgraph_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isgraph_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isgraph(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L507">&#x200c;</a></span><span class="linkable">pg_wc_isprint</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L90" title="regex/regc_pg_locale.c:90">PG_ISPRINT</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isprint(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswprint((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isprint((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswprint_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isprint_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isprint(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L541">&#x200c;</a></span><span class="linkable">pg_wc_ispunct</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L91" title="regex/regc_pg_locale.c:91">PG_ISPUNCT</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_ispunct(c, <span class="Constant">true</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswpunct((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ispunct((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswpunct_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ispunct_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_ispunct(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> <span class="Type">int<br/></li>
<li><a id="L575">&#x200c;</a></span><span class="linkable">pg_wc_isspace</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">127</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L94" title="regex/regc_pg_locale.c:94">pg_char_properties</a>[c] &amp; <a href="#L92" title="regex/regc_pg_locale.c:92">PG_ISSPACE</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_u_isspace(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswspace((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isspace((<span class="Type">unsigned</span> <span class="Type">char</span>) c));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> iswspace_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span> &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isspace_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_isspace(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> pg_wchar<br/></li>
<li><a id="L609">&#x200c;</a><span class="linkable">pg_wc_toupper</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_toupper((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> unicode_uppercase_simple(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* force C behavior for ASCII characters, per comments above */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_toupper((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> towupper((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* force C behavior for ASCII characters, per comments above */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_toupper((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> toupper((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> towupper_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> toupper_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_toupper(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> pg_wchar<br/></li>
<li><a id="L651">&#x200c;</a><span class="linkable">pg_wc_tolower</span>(pg_wchar c)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_tolower((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> unicode_lowercase_simple(c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* force C behavior for ASCII characters, per comments above */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_tolower((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> towlower((<span class="Type">wint_t</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* force C behavior for ASCII characters, per comments above */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">127</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> pg_ascii_tolower((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> tolower((<span class="Type">unsigned</span> <span class="Type">char</span>) c);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<span class="Type">wchar_t</span>) &gt;= <span class="Constant">4</span> || c &lt;= (pg_wchar) <span class="Constant">0xFFFF</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> towlower_l((<span class="Type">wint_t</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* FALL THRU */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (c &lt;= (pg_wchar) <span class="Constant">UCHAR_MAX</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> tolower_l((<span class="Type">unsigned</span> <span class="Type">char</span>) c, <a href="#L78" title="regex/regc_pg_locale.c:78">pg_regex_locale</a>-&gt;info.lt);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> c;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li><span class="PreProc">#ifdef USE_ICU<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> u_tolower(c);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * These <a href="regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> cache the results of probing libc's ctype behavior for<br/></li>
<li></span><span class="Comment"> * all character codes of interest in a given encoding/collation.&nbsp; The<br/></li>
<li></span><span class="Comment"> * result is provided as a &quot;struct cvec&quot;, but notice that the representation<br/></li>
<li></span><span class="Comment"> * is a touch different from a cvec created by regc_cvec.c: we allocate the<br/></li>
<li></span><span class="Comment"> * chrs[] and ranges[] arrays separately from the struct so that we can<br/></li>
<li></span><span class="Comment"> * realloc them larger at need.&nbsp; This is okay since the cvecs made here<br/></li>
<li></span><span class="Comment"> * should never be freed by <a href="regc_cvec.c.html#L135" title="regex/regc_cvec.c:135">freecvec</a>().<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We use malloc not <a href="../utils/mmgr/mcxt.c.html#L1316" title="utils/mmgr/mcxt.c:1316">palloc</a> since we mustn't lose control on out-of-memory;<br/></li>
<li></span><span class="Comment"> * the <a href="../storage/lmgr/s_lock.c.html#L257" title="storage/lmgr/s_lock.c:257">main</a> regex code expects us to return a failure indication instead.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><a id="L706">&#x200c;</a><span class="Type">typedef</span> <span class="Type">int</span> (*<span class="linkable">pg_wc_probefunc</span>) (pg_wchar c);<br/></li>
<li><br/></li>
<li><a id="L708">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">pg_ctype_cache</span><br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <a href="#L706" title="regex/regc_pg_locale.c:706">pg_wc_probefunc</a> probefunc;&nbsp; &nbsp; <span class="Comment">/* <a href="#L328" title="regex/regc_pg_locale.c:328">pg_wc_isalpha</a> or a sibling */<br/></li>
<li></span>&nbsp; &nbsp; Oid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collation;&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* collation this entry is for */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Type">struct</span> cvec cv;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* cache entry contents */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Type">struct</span> <a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a> *<a href="regc_lex.c.html#L200" title="regex/regc_lex.c:200">next</a>;&nbsp; &nbsp; <span class="Comment">/* chain link */<br/></li>
<li><a id="L714">&#x200c;</a></span>} <span class="linkable">pg_ctype_cache</span>;<br/></li>
<li><br/></li>
<li><a id="L716">&#x200c;</a><span class="Type">static</span> <a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a> *<span class="linkable">pg_ctype_cache_list</span> = <span class="Constant">NULL</span>;<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Add a <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> or <a href="regc_locale.c.html#L412" title="regex/regc_locale.c:412">range</a> to pcc-&gt;cv; return false if run out of memory<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type"><a href="../utils/fmgr/dfmgr.c.html#L28" title="utils/fmgr/dfmgr.c:28">bool</a><br/></li>
<li><a id="L722">&#x200c;</a></span><span class="linkable">store_match</span>(<a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a> *pcc, pg_wchar chr1, <span class="Type">int</span> nchrs)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *newchrs;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (nchrs &gt; <span class="Constant">1</span>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;cv.nranges &gt;= pcc-&gt;cv.rangespace)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.rangespace *= <span class="Constant">2</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newchrs = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) realloc(pcc-&gt;cv.ranges,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.rangespace * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>) * <span class="Constant">2</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (newchrs == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">false</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.ranges = newchrs;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.ranges[pcc-&gt;cv.nranges * <span class="Constant">2</span>] = chr1;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.ranges[pcc-&gt;cv.nranges * <span class="Constant">2</span> + <span class="Constant">1</span>] = chr1 + nchrs - <span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.nranges++;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; assert(nchrs == <span class="Constant">1</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;cv.nchrs &gt;= pcc-&gt;cv.chrspace)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrspace *= <span class="Constant">2</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newchrs = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) realloc(pcc-&gt;cv.chrs,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrspace * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (newchrs == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">false</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrs = newchrs;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrs[pcc-&gt;cv.nchrs++] = chr1;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">true</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Given a probe function (e.g., <a href="#L328" title="regex/regc_pg_locale.c:328">pg_wc_isalpha</a>) get a struct cvec for all<br/></li>
<li></span><span class="Comment"> * chrs satisfying the probe function.&nbsp; The active collation is the one<br/></li>
<li></span><span class="Comment"> * previously set by <a href="#L234" title="regex/regc_pg_locale.c:234">pg_set_regex_collation</a>.&nbsp; Return NULL if out of memory.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Note that the result must not be freed or modified by caller.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">static</span> <span class="Type">struct</span> cvec *<br/></li>
<li><a id="L766">&#x200c;</a><span class="linkable">pg_ctype_get_cache</span>(<a href="#L706" title="regex/regc_pg_locale.c:706">pg_wc_probefunc</a> probefunc, <span class="Type">int</span> cclasscode)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a> *pcc;<br/></li>
<li>&nbsp; &nbsp; pg_wchar&nbsp; &nbsp; max_chr;<br/></li>
<li>&nbsp; &nbsp; pg_wchar&nbsp; &nbsp; cur_chr;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nmatches;<br/></li>
<li>&nbsp; &nbsp; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *newchrs;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Do we already have the answer cached?<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">for</span> (pcc = <a href="#L716" title="regex/regc_pg_locale.c:716">pg_ctype_cache_list</a>; pcc != <span class="Constant">NULL</span>; pcc = pcc-&gt;<a href="regc_lex.c.html#L200" title="regex/regc_lex.c:200">next</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;probefunc == probefunc &amp;&amp;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;collation == <a href="#L79" title="regex/regc_pg_locale.c:79">pg_regex_collation</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> &amp;pcc-&gt;cv;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Nope, so <a href="rege_dfa.c.html#L731" title="regex/rege_dfa.c:731">initialize</a> some workspace ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; pcc = (<a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a> *) malloc(<span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="#L708" title="regex/regc_pg_locale.c:708">pg_ctype_cache</a>));<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (pcc == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;probefunc = probefunc;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;collation = <a href="#L79" title="regex/regc_pg_locale.c:79">pg_regex_collation</a>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.nchrs = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.chrspace = <span class="Constant">128</span>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.chrs = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) malloc(pcc-&gt;cv.chrspace * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>));<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.nranges = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.rangespace = <span class="Constant">64</span>;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.ranges = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) malloc(pcc-&gt;cv.rangespace * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>) * <span class="Constant">2</span>);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;cv.chrs == <span class="Constant">NULL</span> || pcc-&gt;cv.ranges == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">goto</span> out_of_memory;<br/></li>
<li>&nbsp; &nbsp; pcc-&gt;cv.cclasscode = cclasscode;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Decide how many character codes we ought to look through.&nbsp; In general<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * we don't go past MAX_SIMPLE_CHR; <a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> codes above that are handled at<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * runtime using the &quot;high colormap&quot; mechanism.&nbsp; However, in C locale<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * there's no need to go further than 127, and if we only have a 1-byte<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * &lt;ctype.h&gt; API there's no need to go further than that can handle.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; *<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * If it's not MAX_SIMPLE_CHR that's constraining the search, mark the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * output cvec as not having <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> locale-dependent behavior, since there<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * will be no need to do <a href="../utils/adt/pseudotypes.c.html#L365" title="utils/adt/pseudotypes.c:365">any</a> run-time locale checks.&nbsp; (The #if's here<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * would always be true for production <a href="../bootstrap/bootstrap.c.html#L152" title="bootstrap/bootstrap.c:152">values</a> of MAX_SIMPLE_CHR, but it's<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * useful to allow it to be small for testing purposes.)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">switch</span> (<a href="#L77" title="regex/regc_pg_locale.c:77">pg_regex_strategy</a>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_C:<br/></li>
<li><span class="PreProc">#if MAX_SIMPLE_CHR &gt;= </span><span class="Constant">127<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) <span class="Constant">127</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.cclasscode = -<span class="Constant">1</span>;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) MAX_SIMPLE_CHR;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_BUILTIN:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) MAX_SIMPLE_CHR;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_WIDE_L:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) MAX_SIMPLE_CHR;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_1BYTE_L:<br/></li>
<li><span class="PreProc">#if MAX_SIMPLE_CHR &gt;= UCHAR_MAX<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) <span class="Constant">UCHAR_MAX</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.cclasscode = -<span class="Constant">1</span>;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) MAX_SIMPLE_CHR;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> PG_REGEX_LOCALE_ICU:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = (pg_wchar) MAX_SIMPLE_CHR;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">default</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert(<span class="Constant">false</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_chr = <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* can't get here, but keep compiler quiet */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * And scan 'em ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; nmatches = <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* number of consecutive matches */<br/></li>
<li></span><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">for</span> (cur_chr = <span class="Constant">0</span>; cur_chr &lt;= max_chr; cur_chr++)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> ((*probefunc) (cur_chr))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nmatches++;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">if</span> (nmatches &gt; <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (!<a href="#L722" title="regex/regc_pg_locale.c:722">store_match</a>(pcc, cur_chr - nmatches, nmatches))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">goto</span> out_of_memory;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nmatches = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (nmatches &gt; <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (!<a href="#L722" title="regex/regc_pg_locale.c:722">store_match</a>(pcc, cur_chr - nmatches, nmatches))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">goto</span> out_of_memory;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * We might have allocated more memory than needed, if so free it<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;cv.nchrs == <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; free(pcc-&gt;cv.chrs);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrs = <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrspace = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">if</span> (pcc-&gt;cv.nchrs &lt; pcc-&gt;cv.chrspace)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; newchrs = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) realloc(pcc-&gt;cv.chrs,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.nchrs * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (newchrs == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">goto</span> out_of_memory;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrs = newchrs;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.chrspace = pcc-&gt;cv.nchrs;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (pcc-&gt;cv.nranges == <span class="Constant">0</span>)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; free(pcc-&gt;cv.ranges);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.ranges = <span class="Constant">NULL</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.rangespace = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">if</span> (pcc-&gt;cv.nranges &lt; pcc-&gt;cv.rangespace)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; newchrs = (<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a> *) realloc(pcc-&gt;cv.ranges,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.nranges * <span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span>(<a href="../utils/adt/oracle_compat.c.html#L1006" title="utils/adt/oracle_compat.c:1006">chr</a>) * <span class="Constant">2</span>);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (newchrs == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">goto</span> out_of_memory;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.ranges = newchrs;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; pcc-&gt;cv.rangespace = pcc-&gt;cv.nranges;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Success, link it into cache chain<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; pcc-&gt;<a href="regc_lex.c.html#L200" title="regex/regc_lex.c:200">next</a> = <a href="#L716" title="regex/regc_pg_locale.c:716">pg_ctype_cache_list</a>;<br/></li>
<li>&nbsp; &nbsp; <a href="#L716" title="regex/regc_pg_locale.c:716">pg_ctype_cache_list</a> = pcc;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> &amp;pcc-&gt;cv;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Failure, clean up<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><span class="Statement">out_of_memory</span><span class="cUserCont">:<br/></li>
<li></span>&nbsp; &nbsp; free(pcc-&gt;cv.chrs);<br/></li>
<li>&nbsp; &nbsp; free(pcc-&gt;cv.ranges);<br/></li>
<li>&nbsp; &nbsp; free(pcc);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li>}<br/></li>
</ol></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

 </body>
</html>
