<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>utils/adt/pseudotypes.c - pgsql17devel-backend</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../../index.html">Top Level</a></span>
 </p>

  <h1>utils/adt/pseudotypes.c - pgsql17devel-backend</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L365">any</a></li>
<li><a href="#L154">anyarray</a></li>
<li><a href="#L155">anyarray</a></li>
<li><a href="#L376">anycompatible</a></li>
<li><a href="#L174">anycompatiblearray</a></li>
<li><a href="#L175">anycompatiblearray</a></li>
<li><a href="#L246">anycompatiblemultirange</a></li>
<li><a href="#L377">anycompatiblenonarray</a></li>
<li><a href="#L220">anycompatiblerange</a></li>
<li><a href="#L374">anyelement</a></li>
<li><a href="#L194">anyenum</a></li>
<li><a href="#L233">anymultirange</a></li>
<li><a href="#L375">anynonarray</a></li>
<li><a href="#L207">anyrange</a></li>
<li><a href="#L367">event_trigger</a></li>
<li><a href="#L369">fdw_handler</a></li>
<li><a href="#L371">index_am_handler</a></li>
<li><a href="#L373">internal</a></li>
<li><a href="#L368">language_handler</a></li>
<li><a href="#L358">pg_ddl_command</a></li>
<li><a href="#L359">pg_ddl_command</a></li>
<li><a href="#L334">pg_node_tree</a></li>
<li><a href="#L335">pg_node_tree</a></li>
<li><a href="#L370">table_am_handler</a></li>
<li><a href="#L366">trigger</a></li>
<li><a href="#L372">tsm_handler</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L158">anyarray_out</a></li>
<li><a href="#L164">anyarray_send</a></li>
<li><a href="#L178">anycompatiblearray_out</a></li>
<li><a href="#L184">anycompatiblearray_send</a></li>
<li><a href="#L249">anycompatiblemultirange_out</a></li>
<li><a href="#L223">anycompatiblerange_out</a></li>
<li><a href="#L197">anyenum_out</a></li>
<li><a href="#L236">anymultirange_out</a></li>
<li><a href="#L210">anyrange_out</a></li>
<li><a href="#L107">cstring_in</a></li>
<li><a href="#L115">cstring_out</a></li>
<li><a href="#L123">cstring_recv</a></li>
<li><a href="#L134">cstring_send</a></li>
<li><a href="#L338">pg_node_tree_out</a></li>
<li><a href="#L344">pg_node_tree_send</a></li>
<li><a href="#L303">shell_in</a></li>
<li><a href="#L313">shell_out</a></li>
<li><a href="#L263">void_in</a></li>
<li><a href="#L269">void_out</a></li>
<li><a href="#L275">void_recv</a></li>
<li><a href="#L285">void_send</a></li>
</ul>
 <h2>Macros defined</h2>
 <ul class="toc">
<li><a href="#L81">PSEUDOTYPE_DUMMY_BINARY_IO_FUNCS</a></li>
<li><a href="#L34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a></li>
<li><a href="#L47">PSEUDOTYPE_DUMMY_IO_FUNCS</a></li>
<li><a href="#L68">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/*-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * pseudotypes.c<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; Functions for the system pseudo-types.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * A pseudo-type isn't really a type and never has <a href="#L365" title="utils/adt/pseudotypes.c:365">any</a> operations, but<br/></li>
<li></span><span class="Comment"> * we do need to supply input and output <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> to satisfy the links<br/></li>
<li></span><span class="Comment"> * in the pseudo-type's entry in pg_type.&nbsp; In most cases the <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a><br/></li>
<li></span><span class="Comment"> * just throw an error if invoked.&nbsp; (</span><span class="Todo">XXX</span><span class="Comment"> the error messages here cover<br/></li>
<li></span><span class="Comment"> * the most common case, but might be confusing in some contexts.&nbsp; Can<br/></li>
<li></span><span class="Comment"> * we do better?)<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1996-2024, PostgreSQL Global Development Group<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1994, Regents of the University of California<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * IDENTIFICATION<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; src/backend/utils/adt/pseudotypes.c<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;postgres.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;libpq/pqformat.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;utils/fmgrprotos.h&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * These macros generate input and output <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for a pseudo-type that<br/></li>
<li></span><span class="Comment"> * will reject all input and output attempts.&nbsp; (But for some types, only<br/></li>
<li></span><span class="Comment"> * the input function need be dummy.)<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L34">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PSEUDOTYPE_DUMMY_INPUT_FUNC</span>(typname) \<br/></li>
<li></span><span class="PreProc">Datum \<br/></li>
<li></span><span class="PreProc">typname##_in(PG_FUNCTION_ARGS) \<br/></li>
<li></span><span class="PreProc">{ \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; ereport(ERROR, \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED), \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(</span><span class="Constant">&quot;cannot <a href="../../port/win32/socket.c.html#L34" title="port/win32/socket.c:34">accept</a> a value of type </span><span class="Special">%s</span><span class="Constant">&quot;</span><span class="PreProc">, #typname))); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* keep compiler quiet */</span><span class="PreProc"> \<br/></li>
<li></span><span class="PreProc">} \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="Type">extern</span><span class="PreProc"> </span><span class="Type">int</span><span class="PreProc"> no_such_variable<br/></li>
<li></span><br/></li>
<li><a id="L47">&#x200c;</a><span class="PreProc">#define <span class="linkable">PSEUDOTYPE_DUMMY_IO_FUNCS</span>(typname) \<br/></li>
<li></span><span class="PreProc"><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(typname); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">Datum \<br/></li>
<li></span><span class="PreProc">typname##_out(PG_FUNCTION_ARGS) \<br/></li>
<li></span><span class="PreProc">{ \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; ereport(ERROR, \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED), \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(</span><span class="Constant">&quot;cannot display a value of type </span><span class="Special">%s</span><span class="Constant">&quot;</span><span class="PreProc">, #typname))); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* keep compiler quiet */</span><span class="PreProc"> \<br/></li>
<li></span><span class="PreProc">} \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="Type">extern</span><span class="PreProc"> </span><span class="Type">int</span><span class="PreProc"> no_such_variable<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Likewise for binary <a href="../../port/win32/socket.c.html#L38" title="port/win32/socket.c:38">send</a>/receive <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>.&nbsp; We don't bother with these<br/></li>
<li></span><span class="Comment"> * at all for many pseudotypes, but some have them.&nbsp; (By convention, if<br/></li>
<li></span><span class="Comment"> * a type has a <a href="../../port/win32/socket.c.html#L38" title="port/win32/socket.c:38">send</a> function it should have a receive function, even if<br/></li>
<li></span><span class="Comment"> * that's only dummy.)<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L68">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</span>(typname) \<br/></li>
<li></span><span class="PreProc">Datum \<br/></li>
<li></span><span class="PreProc">typname##_recv(PG_FUNCTION_ARGS) \<br/></li>
<li></span><span class="PreProc">{ \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; ereport(ERROR, \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED), \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(</span><span class="Constant">&quot;cannot <a href="../../port/win32/socket.c.html#L34" title="port/win32/socket.c:34">accept</a> a value of type </span><span class="Special">%s</span><span class="Constant">&quot;</span><span class="PreProc">, #typname))); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* keep compiler quiet */</span><span class="PreProc"> \<br/></li>
<li></span><span class="PreProc">} \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="Type">extern</span><span class="PreProc"> </span><span class="Type">int</span><span class="PreProc"> no_such_variable<br/></li>
<li></span><br/></li>
<li><a id="L81">&#x200c;</a><span class="PreProc">#define <span class="linkable">PSEUDOTYPE_DUMMY_BINARY_IO_FUNCS</span>(typname) \<br/></li>
<li></span><span class="PreProc"><a href="#L68" title="utils/adt/pseudotypes.c:68">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</a>(typname); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">Datum \<br/></li>
<li></span><span class="PreProc">typname##_send(PG_FUNCTION_ARGS) \<br/></li>
<li></span><span class="PreProc">{ \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; ereport(ERROR, \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED), \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(</span><span class="Constant">&quot;cannot display a value of type </span><span class="Special">%s</span><span class="Constant">&quot;</span><span class="PreProc">, #typname))); \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* keep compiler quiet */</span><span class="PreProc"> \<br/></li>
<li></span><span class="PreProc">} \<br/></li>
<li></span><span class="PreProc">\<br/></li>
<li></span><span class="Type">extern</span><span class="PreProc"> </span><span class="Type">int</span><span class="PreProc"> no_such_variable<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * cstring<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * cstring is marked as a pseudo-type because we don't want people using it<br/></li>
<li></span><span class="Comment"> * in tables.&nbsp; But it's really a perfectly functional type, so provide<br/></li>
<li></span><span class="Comment"> * a full set of working I/O <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for it.&nbsp; Among other things, this<br/></li>
<li></span><span class="Comment"> * allows manual invocation of datatype I/O <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>, along the lines of<br/></li>
<li></span><span class="Comment"> * &quot;SELECT foo_in('blah')&quot; or &quot;SELECT foo_out(some-foo-value)&quot;.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span>Datum<br/></li>
<li><a id="L107">&#x200c;</a><span class="linkable">cstring_in</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span>&nbsp; &nbsp; &nbsp;&nbsp; *str = PG_GETARG_CSTRING(<span class="Constant">0</span>);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; PG_RETURN_CSTRING(<a href="../mmgr/mcxt.c.html#L1695" title="utils/mmgr/mcxt.c:1695">pstrdup</a>(str));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L115">&#x200c;</a><span class="linkable">cstring_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span>&nbsp; &nbsp; &nbsp;&nbsp; *str = PG_GETARG_CSTRING(<span class="Constant">0</span>);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; PG_RETURN_CSTRING(<a href="../mmgr/mcxt.c.html#L1695" title="utils/mmgr/mcxt.c:1695">pstrdup</a>(str));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L123">&#x200c;</a><span class="linkable">cstring_recv</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; StringInfo&nbsp; &nbsp; buf = (StringInfo) PG_GETARG_POINTER(<span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span>&nbsp; &nbsp; &nbsp;&nbsp; *str;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nbytes;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; str = <a href="../../libpq/pqformat.c.html#L546" title="libpq/pqformat.c:546">pq_getmsgtext</a>(buf, buf-&gt;len - buf-&gt;cursor, &amp;nbytes);<br/></li>
<li>&nbsp; &nbsp; PG_RETURN_CSTRING(str);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L134">&#x200c;</a><span class="linkable">cstring_send</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span>&nbsp; &nbsp; &nbsp;&nbsp; *str = PG_GETARG_CSTRING(<span class="Constant">0</span>);<br/></li>
<li>&nbsp; &nbsp; StringInfoData buf;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="../../libpq/pqformat.c.html#L326" title="libpq/pqformat.c:326">pq_begintypsend</a>(&amp;buf);<br/></li>
<li>&nbsp; &nbsp; <a href="../../libpq/pqformat.c.html#L172" title="libpq/pqformat.c:172">pq_sendtext</a>(&amp;buf, str, strlen(str));<br/></li>
<li>&nbsp; &nbsp; PG_RETURN_BYTEA_P(<a href="../../libpq/pqformat.c.html#L346" title="libpq/pqformat.c:346">pq_endtypsend</a>(&amp;buf));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L154" title="utils/adt/pseudotypes.c:154">anyarray</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We need to allow output of <a href="#L154" title="utils/adt/pseudotypes.c:154">anyarray</a> so that, e.g., pg_statistic columns<br/></li>
<li></span><span class="Comment"> * can be printed.&nbsp; Input has to be disallowed, however.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * </span><span class="Todo">XXX</span><span class="Comment"> anyarray_recv could actually be made to work, since the incoming<br/></li>
<li></span><span class="Comment"> * array data would contain the <a href="../../regex/regc_locale.c.html#L376" title="regex/regc_locale.c:376">element</a> type OID.&nbsp; It seems unlikely that<br/></li>
<li></span><span class="Comment"> * it'd be sufficiently type-safe, though.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L154">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anyarray</span>);<br/></li>
<li><a id="L155">&#x200c;</a><a href="#L68" title="utils/adt/pseudotypes.c:68">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</a>(<span class="linkable">anyarray</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L158">&#x200c;</a><span class="linkable">anyarray_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="arrayfuncs.c.html#L1016" title="utils/adt/arrayfuncs.c:1016">array_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L164">&#x200c;</a><span class="linkable">anyarray_send</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="arrayfuncs.c.html#L1548" title="utils/adt/arrayfuncs.c:1548">array_send</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L174" title="utils/adt/pseudotypes.c:174">anycompatiblearray</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since we do for <a href="#L154" title="utils/adt/pseudotypes.c:154">anyarray</a>.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L174">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anycompatiblearray</span>);<br/></li>
<li><a id="L175">&#x200c;</a><a href="#L68" title="utils/adt/pseudotypes.c:68">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</a>(<span class="linkable">anycompatiblearray</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L178">&#x200c;</a><span class="linkable">anycompatiblearray_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="arrayfuncs.c.html#L1016" title="utils/adt/arrayfuncs.c:1016">array_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L184">&#x200c;</a><span class="linkable">anycompatiblearray_send</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="arrayfuncs.c.html#L1548" title="utils/adt/arrayfuncs.c:1548">array_send</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L194" title="utils/adt/pseudotypes.c:194">anyenum</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since <a href="enum.c.html#L155" title="utils/adt/enum.c:155">enum_out</a> will in fact work.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L194">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anyenum</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L197">&#x200c;</a><span class="linkable">anyenum_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="enum.c.html#L155" title="utils/adt/enum.c:155">enum_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L207" title="utils/adt/pseudotypes.c:207">anyrange</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since <a href="rangetypes.c.html#L137" title="utils/adt/rangetypes.c:137">range_out</a> will in fact work.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L207">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anyrange</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L210">&#x200c;</a><span class="linkable">anyrange_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="rangetypes.c.html#L137" title="utils/adt/rangetypes.c:137">range_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L220" title="utils/adt/pseudotypes.c:220">anycompatiblerange</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since <a href="rangetypes.c.html#L137" title="utils/adt/rangetypes.c:137">range_out</a> will in fact work.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L220">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anycompatiblerange</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L223">&#x200c;</a><span class="linkable">anycompatiblerange_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="rangetypes.c.html#L137" title="utils/adt/rangetypes.c:137">range_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L233" title="utils/adt/pseudotypes.c:233">anymultirange</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since <a href="multirangetypes.c.html#L299" title="utils/adt/multirangetypes.c:299">multirange_out</a> will in fact work.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L233">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anymultirange</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L236">&#x200c;</a><span class="linkable">anymultirange_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="multirangetypes.c.html#L299" title="utils/adt/multirangetypes.c:299">multirange_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L246" title="utils/adt/pseudotypes.c:246">anycompatiblemultirange</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We may as well allow output, since <a href="multirangetypes.c.html#L299" title="utils/adt/multirangetypes.c:299">multirange_out</a> will in fact work.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L246">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">anycompatiblemultirange</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L249">&#x200c;</a><span class="linkable">anycompatiblemultirange_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="multirangetypes.c.html#L299" title="utils/adt/multirangetypes.c:299">multirange_out</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * void<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We support <a href="#L263" title="utils/adt/pseudotypes.c:263">void_in</a> so that PL <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> can return VOID without <a href="#L365" title="utils/adt/pseudotypes.c:365">any</a><br/></li>
<li></span><span class="Comment"> * special hack in the PL handler.&nbsp; Whatever value the PL thinks it's<br/></li>
<li></span><span class="Comment"> * returning will just be ignored.&nbsp; Conversely, <a href="#L269" title="utils/adt/pseudotypes.c:269">void_out</a> and <a href="#L285" title="utils/adt/pseudotypes.c:285">void_send</a><br/></li>
<li></span><span class="Comment"> * are needed so that &quot;SELECT function_returning_void(...)&quot; works.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span>Datum<br/></li>
<li><a id="L263">&#x200c;</a><span class="linkable">void_in</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* you were expecting something different? */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L269">&#x200c;</a><span class="linkable">void_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; PG_RETURN_CSTRING(<a href="../mmgr/mcxt.c.html#L1695" title="utils/mmgr/mcxt.c:1695">pstrdup</a>(<span class="Constant">&quot;&quot;</span>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L275">&#x200c;</a><span class="linkable">void_recv</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * Note that since we consume no bytes, an attempt to <a href="../../port/win32/socket.c.html#L38" title="port/win32/socket.c:38">send</a> anything but an<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; * empty string will result in an &quot;invalid message format&quot; error.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; PG_RETURN_VOID();<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L285">&#x200c;</a><span class="linkable">void_send</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; StringInfoData buf;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* <a href="../../port/win32/socket.c.html#L38" title="port/win32/socket.c:38">send</a> an empty string */<br/></li>
<li></span>&nbsp; &nbsp; <a href="../../libpq/pqformat.c.html#L326" title="libpq/pqformat.c:326">pq_begintypsend</a>(&amp;buf);<br/></li>
<li>&nbsp; &nbsp; PG_RETURN_BYTEA_P(<a href="../../libpq/pqformat.c.html#L346" title="libpq/pqformat.c:346">pq_endtypsend</a>(&amp;buf));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * shell<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * <a href="#L303" title="utils/adt/pseudotypes.c:303">shell_in</a> and <a href="#L313" title="utils/adt/pseudotypes.c:313">shell_out</a> are entered in pg_type for &quot;shell&quot; types<br/></li>
<li></span><span class="Comment"> * (those not yet filled in).&nbsp; They should be unreachable, but we<br/></li>
<li></span><span class="Comment"> * set them up just in case some code path tries to do I/O without<br/></li>
<li></span><span class="Comment"> * having checked pg_type.typisdefined anywhere along the way.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span>Datum<br/></li>
<li><a id="L303">&#x200c;</a><span class="linkable">shell_in</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; ereport(ERROR,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(<span class="Constant">&quot;cannot <a href="../../port/win32/socket.c.html#L34" title="port/win32/socket.c:34">accept</a> a value of a shell type&quot;</span>)));<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L313">&#x200c;</a><span class="linkable">shell_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; ereport(ERROR,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="../error/elog.c.html#L859" title="utils/error/elog.c:859">errcode</a>(ERRCODE_FEATURE_NOT_SUPPORTED),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="../error/elog.c.html#L1072" title="utils/error/elog.c:1072">errmsg</a>(<span class="Constant">&quot;cannot display a value of a shell type&quot;</span>)));<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; PG_RETURN_VOID();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* keep compiler quiet */<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L334" title="utils/adt/pseudotypes.c:334">pg_node_tree</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * <a href="#L334" title="utils/adt/pseudotypes.c:334">pg_node_tree</a> isn't really a pseudotype --- it's real enough to be a table<br/></li>
<li></span><span class="Comment"> * column --- but it presently has no operations of its own, and disallows<br/></li>
<li></span><span class="Comment"> * input too, so its I/O <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> seem to fit here as much as anywhere.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We must disallow input of <a href="#L334" title="utils/adt/pseudotypes.c:334">pg_node_tree</a> <a href="../../bootstrap/bootstrap.c.html#L152" title="bootstrap/bootstrap.c:152">values</a> because the SQL <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a><br/></li>
<li></span><span class="Comment"> * that operate on the type are not secure against malformed input.<br/></li>
<li></span><span class="Comment"> * We do want to allow output, though.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L334">&#x200c;</a></span><a href="#L34" title="utils/adt/pseudotypes.c:34">PSEUDOTYPE_DUMMY_INPUT_FUNC</a>(<span class="linkable">pg_node_tree</span>);<br/></li>
<li><a id="L335">&#x200c;</a><a href="#L68" title="utils/adt/pseudotypes.c:68">PSEUDOTYPE_DUMMY_RECEIVE_FUNC</a>(<span class="linkable">pg_node_tree</span>);<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L338">&#x200c;</a><span class="linkable">pg_node_tree_out</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="varlena.c.html#L590" title="utils/adt/varlena.c:590">textout</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li>Datum<br/></li>
<li><a id="L344">&#x200c;</a><span class="linkable">pg_node_tree_send</span>(PG_FUNCTION_ARGS)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="varlena.c.html#L619" title="utils/adt/varlena.c:619">textsend</a>(fcinfo);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L358" title="utils/adt/pseudotypes.c:358">pg_ddl_command</a><br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Like <a href="#L334" title="utils/adt/pseudotypes.c:334">pg_node_tree</a>, <a href="#L358" title="utils/adt/pseudotypes.c:358">pg_ddl_command</a> isn't really a pseudotype; it's here<br/></li>
<li></span><span class="Comment"> * for the same reasons as that one.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * We don't have <a href="#L365" title="utils/adt/pseudotypes.c:365">any</a> good way to output this type directly, so punt<br/></li>
<li></span><span class="Comment"> * for output as well as input.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L358">&#x200c;</a></span><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">pg_ddl_command</span>);<br/></li>
<li><a id="L359">&#x200c;</a><a href="#L81" title="utils/adt/pseudotypes.c:81">PSEUDOTYPE_DUMMY_BINARY_IO_FUNCS</a>(<span class="linkable">pg_ddl_command</span>);<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Dummy I/O <a href="../../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for various other pseudotypes.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li><a id="L365">&#x200c;</a></span><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">any</span>);<br/></li>
<li><a id="L366">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">trigger</span>);<br/></li>
<li><a id="L367">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">event_trigger</span>);<br/></li>
<li><a id="L368">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">language_handler</span>);<br/></li>
<li><a id="L369">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">fdw_handler</span>);<br/></li>
<li><a id="L370">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">table_am_handler</span>);<br/></li>
<li><a id="L371">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">index_am_handler</span>);<br/></li>
<li><a id="L372">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">tsm_handler</span>);<br/></li>
<li><a id="L373">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">internal</span>);<br/></li>
<li><a id="L374">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">anyelement</span>);<br/></li>
<li><a id="L375">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">anynonarray</span>);<br/></li>
<li><a id="L376">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">anycompatible</span>);<br/></li>
<li><a id="L377">&#x200c;</a><a href="#L47" title="utils/adt/pseudotypes.c:47">PSEUDOTYPE_DUMMY_IO_FUNCS</a>(<span class="linkable">anycompatiblenonarray</span>);<br/></li>
</ol></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../../index.html">Top Level</a></span>
 </p>

 </body>
</html>
