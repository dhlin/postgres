<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>nodes/copyfuncs.c - pgsql17devel-backend</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

  <h1>nodes/copyfuncs.c - pgsql17devel-backend</h1>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L108">_copyA_Const</a></li>
<li><a href="#L164">_copyBitmapset</a></li>
<li><a href="#L73">_copyConst</a></li>
<li><a href="#L147">_copyExtensibleNode</a></li>
<li><a href="#L177">copyObjectImpl</a></li>
</ul>
 <h2>Macros defined</h2>
 <ul class="toc">
<li><a href="#L46">COPY_ARRAY_FIELD</a></li>
<li><a href="#L38">COPY_BITMAPSET_FIELD</a></li>
<li><a href="#L61">COPY_LOCATION_FIELD</a></li>
<li><a href="#L34">COPY_NODE_FIELD</a></li>
<li><a href="#L50">COPY_POINTER_FIELD</a></li>
<li><a href="#L30">COPY_SCALAR_FIELD</a></li>
<li><a href="#L42">COPY_STRING_FIELD</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/*-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * copyfuncs.c<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; Copy <a href="../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for Postgres tree nodes.<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1996-2024, PostgreSQL Global Development Group<br/></li>
<li></span><span class="Comment"> * Portions Copyright (c) 1994, Regents of the University of California<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * IDENTIFICATION<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; src/backend/nodes/copyfuncs.c<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *-------------------------------------------------------------------------<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;postgres.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;miscadmin.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;utils/datum.h&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Macros to simplify copying of different kinds of fields.&nbsp; Use these<br/></li>
<li></span><span class="Comment"> * wherever possible to reduce the chance for silly typos.&nbsp; Note that these<br/></li>
<li></span><span class="Comment"> * hard-wire the convention that the local variables in a Copy routine are<br/></li>
<li></span><span class="Comment"> * named 'newnode' and 'from'.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a simple scalar field (int, float, <a href="../utils/fmgr/dfmgr.c.html#L28" title="utils/fmgr/dfmgr.c:28">bool</a>, enum, etc) */<br/></li>
<li><a id="L30">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_SCALAR_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (newnode-&gt;fldname = from-&gt;fldname)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a field that is a pointer to some kind of Node or Node tree */<br/></li>
<li><a id="L34">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_NODE_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (newnode-&gt;fldname = <a href="#L177" title="nodes/copyfuncs.c:177">copyObjectImpl</a>(from-&gt;fldname))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a field that is a pointer to a Bitmapset */<br/></li>
<li><a id="L38">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_BITMAPSET_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (newnode-&gt;fldname = <a href="bitmapset.c.html#L122" title="nodes/bitmapset.c:122">bms_copy</a>(from-&gt;fldname))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a field that is a pointer to a C string, or perhaps NULL */<br/></li>
<li><a id="L42">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_STRING_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (newnode-&gt;fldname = from-&gt;fldname ? <a href="../utils/mmgr/mcxt.c.html#L1695" title="utils/mmgr/mcxt.c:1695">pstrdup</a>(from-&gt;fldname) : (</span><span class="Type">char</span><span class="PreProc"> *) </span><span class="Constant">NULL</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a field that is an inline array */<br/></li>
<li><a id="L46">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_ARRAY_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; memcpy(newnode-&gt;fldname, from-&gt;fldname, </span><span class="Statement"><a href="../storage/page/itemptr.c.html#L23" title="storage/page/itemptr.c:23">sizeof</a></span><span class="PreProc">(newnode-&gt;fldname))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a field that is a pointer to a simple <a href="../utils/mmgr/mcxt.c.html#L1316" title="utils/mmgr/mcxt.c:1316">palloc</a>'d object of size sz */<br/></li>
<li><a id="L50">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_POINTER_FIELD</span>(fldname, sz) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; </span><span class="Statement">do</span><span class="PreProc"> { \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; _size = (sz); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="PreProc"> (_size &gt; </span><span class="Constant">0</span><span class="PreProc">) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; { \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newnode-&gt;fldname = <a href="../utils/mmgr/mcxt.c.html#L1316" title="utils/mmgr/mcxt.c:1316">palloc</a>(_size); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; memcpy(newnode-&gt;fldname, from-&gt;fldname, _size); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; } \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; } </span><span class="Statement">while</span><span class="PreProc"> (</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Copy a <a href="../regex/regcomp.c.html#L715" title="regex/regcomp.c:715">parse</a> location field (for Copy, this is same as scalar case) */<br/></li>
<li><a id="L61">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COPY_LOCATION_FIELD</span>(fldname) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (newnode-&gt;fldname = from-&gt;fldname)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;copyfuncs.funcs.c&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * Support <a href="../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a> for nodes with custom_copy_equal attribute<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="Type">static</span> Const *<br/></li>
<li><a id="L73">&#x200c;</a><span class="linkable">_copyConst</span>(<span class="Type">const</span> Const *from)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; Const&nbsp; &nbsp; &nbsp;&nbsp; *newnode = makeNode(Const);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(consttype);<br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(consttypmod);<br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(constcollid);<br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(constlen);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (from-&gt;constbyval || from-&gt;constisnull)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * passed by value so just copy the datum. Also, don't try to copy<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * struct when value is null!<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; newnode-&gt;constvalue = from-&gt;constvalue;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * passed by reference.&nbsp; We need a <a href="../utils/mmgr/mcxt.c.html#L1316" title="utils/mmgr/mcxt.c:1316">palloc</a>'d copy.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; newnode-&gt;constvalue = <a href="../utils/adt/datum.c.html#L132" title="utils/adt/datum.c:132">datumCopy</a>(from-&gt;constvalue,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; from-&gt;constbyval,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; from-&gt;constlen);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(constisnull);<br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(constbyval);<br/></li>
<li>&nbsp; &nbsp; <a href="#L61" title="nodes/copyfuncs.c:61">COPY_LOCATION_FIELD</a>(location);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> newnode;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> A_Const *<br/></li>
<li><a id="L108">&#x200c;</a><span class="linkable">_copyA_Const</span>(<span class="Type">const</span> A_Const *from)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; A_Const&nbsp; &nbsp; *newnode = makeNode(A_Const);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(isnull);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (!from-&gt;isnull)<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* This part must duplicate other _copy*() <a href="../regex/regcomp.c.html#L356" title="regex/regcomp.c:356">functions</a>. */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(val.node.type);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">switch</span> (nodeTag(&amp;from-&gt;val))<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_Integer:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(val.ival.ival);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_Float:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L42" title="nodes/copyfuncs.c:42">COPY_STRING_FIELD</a>(val.fval.fval);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_Boolean:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L30" title="nodes/copyfuncs.c:30">COPY_SCALAR_FIELD</a>(val.boolval.boolval);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_String:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L42" title="nodes/copyfuncs.c:42">COPY_STRING_FIELD</a>(val.sval.sval);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_BitString:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L42" title="nodes/copyfuncs.c:42">COPY_STRING_FIELD</a>(val.bsval.bsval);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">default</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elog(ERROR, <span class="Constant">&quot;unrecognized node type: </span><span class="Special">%d</span><span class="Constant">&quot;</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<span class="Type">int</span>) nodeTag(&amp;from-&gt;val));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <a href="#L61" title="nodes/copyfuncs.c:61">COPY_LOCATION_FIELD</a>(location);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> newnode;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> ExtensibleNode *<br/></li>
<li><a id="L147">&#x200c;</a><span class="linkable">_copyExtensibleNode</span>(<span class="Type">const</span> ExtensibleNode *from)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; ExtensibleNode *newnode;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">const</span> ExtensibleNodeMethods *methods;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; methods = <a href="extensible.c.html#L125" title="nodes/extensible.c:125">GetExtensibleNodeMethods</a>(from-&gt;extnodename, <span class="Constant">false</span>);<br/></li>
<li>&nbsp; &nbsp; newnode = (ExtensibleNode *) newNode(methods-&gt;node_size,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; T_ExtensibleNode);<br/></li>
<li>&nbsp; &nbsp; <a href="#L42" title="nodes/copyfuncs.c:42">COPY_STRING_FIELD</a>(extnodename);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* copy the private fields */<br/></li>
<li></span>&nbsp; &nbsp; methods-&gt;nodeCopy(newnode, from);<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> newnode;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type">static</span> Bitmapset *<br/></li>
<li><a id="L164">&#x200c;</a><span class="linkable">_copyBitmapset</span>(<span class="Type">const</span> Bitmapset *from)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="bitmapset.c.html#L122" title="nodes/bitmapset.c:122">bms_copy</a>(from);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * <a href="#L177" title="nodes/copyfuncs.c:177">copyObjectImpl</a> -- implementation of copyObject(); see nodes/nodes.h<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> * Create a copy of a Node tree or list.&nbsp; This is a &quot;deep&quot; copy: all<br/></li>
<li></span><span class="Comment"> * substructure is copied too, recursively.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><span class="Type">void</span> *<br/></li>
<li><a id="L177">&#x200c;</a><span class="linkable">copyObjectImpl</span>(<span class="Type">const</span> <span class="Type">void</span> *from)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Type">void</span>&nbsp; &nbsp; &nbsp;&nbsp; *retval;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (from == <span class="Constant">NULL</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant">NULL</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Guard against stack overflow due to overly complex expressions */<br/></li>
<li></span>&nbsp; &nbsp; <a href="../tcop/postgres.c.html#L3531" title="tcop/postgres.c:3531">check_stack_depth</a>();<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (nodeTag(from))<br/></li>
<li>&nbsp; &nbsp; {<br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;copyfuncs.switch.c&quot;<br/></li>
<li></span><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_List:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = <a href="list.c.html#L1639" title="nodes/list.c:1639">list_copy_deep</a>(from);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * Lists of integers, OIDs and XIDs don't need to be deep-copied,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; * so we perform a shallow copy via <a href="list.c.html#L1573" title="nodes/list.c:1573">list_copy</a>()<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_IntList:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_OidList:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">case</span> T_XidList:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = <a href="list.c.html#L1573" title="nodes/list.c:1573">list_copy</a>(from);<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">default</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elog(ERROR, <span class="Constant">&quot;unrecognized node type: </span><span class="Special">%d</span><span class="Constant">&quot;</span>, (<span class="Type">int</span>) nodeTag(from));<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = <span class="Constant">0</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* keep compiler quiet */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li><br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> retval;<br/></li>
<li>}<br/></li>
</ol></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

 </body>
</html>
